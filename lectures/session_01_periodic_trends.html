<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Session 1: Periodic Trends | CHEM 361</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Crimson+Pro:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono:wght@400;500&display=swap');

        :root {
            --bg: #0a0f1a;
            --bg-card: #131b2e;
            --bg-elevated: #1a2540;
            --text: #e8eaed;
            --text-dim: #9aa0a6;
            --accent: #8ab4f8;
            --accent-green: #81c995;
            --accent-yellow: #fdd663;
            --accent-red: #f28b82;
            --accent-purple: #c58af9;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Crimson Pro', Georgia, serif;
            background: var(--bg);
            color: var(--text);
            font-size: 1.15rem;
            line-height: 1.9;
        }

        .lecture {
            max-width: 900px;
            margin: 0 auto;
            padding: 3rem 2rem 6rem;
        }

        /* Header */
        .lecture-header {
            text-align: center;
            margin-bottom: 4rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #2a3a5a;
        }

        .lecture-header h1 {
            font-size: 2.8rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--accent), var(--accent-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .lecture-header .subtitle {
            font-size: 1.3rem;
            color: var(--text-dim);
            font-style: italic;
        }

        /* Learning objectives */
        .objectives {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .objectives h2 {
            font-size: 1.1rem;
            color: var(--accent);
            font-family: 'JetBrains Mono', monospace;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .objectives ul {
            list-style: none;
        }

        .objectives li {
            padding: 0.5rem 0;
            padding-left: 2rem;
            position: relative;
        }

        .objectives li::before {
            content: '‚óã';
            position: absolute;
            left: 0;
            color: var(--text-dim);
        }

        .objectives li.achieved::before {
            content: '‚óè';
            color: var(--accent-green);
        }

        /* Prose sections */
        .section {
            margin-bottom: 4rem;
        }

        h2.section-title {
            font-size: 1.8rem;
            color: var(--accent-purple);
            margin-bottom: 1.5rem;
            font-weight: 500;
        }

        p {
            margin-bottom: 1.5rem;
            text-align: justify;
        }

        .highlight {
            background: rgba(138, 180, 248, 0.15);
            padding: 0.1em 0.3em;
            border-radius: 3px;
        }

        .key-insight {
            background: var(--bg-elevated);
            border-left: 4px solid var(--accent-yellow);
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            font-style: italic;
        }

        /* Interactive periodic table */
        .periodic-container {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
            overflow-x: auto;
        }

        .periodic-mini {
            display: grid;
            grid-template-columns: repeat(18, minmax(38px, 1fr));
            gap: 3px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.7rem;
        }

        .el {
            aspect-ratio: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: var(--bg-elevated);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
        }

        .el:hover {
            transform: scale(1.15);
            z-index: 10;
            box-shadow: 0 4px 20px rgba(138, 180, 248, 0.3);
        }

        .el .symbol { font-weight: 600; font-size: 0.9rem; }
        .el .number { font-size: 0.55rem; color: var(--text-dim); }

        .el.empty { background: transparent; pointer-events: none; }

        /* Color coding for trends */
        .el.size-1 { background: #1a472a; }
        .el.size-2 { background: #2d5a3d; }
        .el.size-3 { background: #3d6b4a; }
        .el.size-4 { background: #5a8a62; }
        .el.size-5 { background: #7ab07e; }

        .el.ie-1 { background: #4a1a1a; }
        .el.ie-2 { background: #5a2d2d; }
        .el.ie-3 { background: #6b3d3d; }
        .el.ie-4 { background: #8a5a5a; }
        .el.ie-5 { background: #b07a7a; }

        /* Trend arrows canvas */
        .trend-visual {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .trend-visual canvas {
            width: 100%;
            height: auto;
            display: block;
        }

        .trend-visual .caption {
            text-align: center;
            color: var(--text-dim);
            font-size: 0.95rem;
            margin-top: 1rem;
        }

        /* Slater calculator */
        .calculator {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 2rem;
            margin: 2rem 0;
        }

        .calculator h3 {
            color: var(--accent);
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            margin-bottom: 1.5rem;
        }

        .calc-input {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .calc-input select, .calc-input button {
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            border: 1px solid #3a4a6a;
            border-radius: 6px;
            background: var(--bg-elevated);
            color: var(--text);
            font-family: inherit;
            cursor: pointer;
        }

        .calc-input button {
            background: var(--accent);
            color: #000;
            border: none;
            font-weight: 600;
        }

        .calc-output {
            background: var(--bg);
            border-radius: 8px;
            padding: 1.5rem;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.95rem;
            line-height: 1.8;
            white-space: pre-wrap;
        }

        /* Orbital diagrams */
        .orbital-comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .orbital-box {
            background: var(--bg-card);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }

        .orbital-box h4 {
            color: var(--accent);
            margin-bottom: 1rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .orbital-diagram {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin: 1rem 0;
        }

        .orbital {
            width: 40px;
            height: 50px;
            border: 2px solid var(--text-dim);
            border-radius: 4px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            font-size: 1.2rem;
        }

        .orbital.filled { border-color: var(--accent-green); }
        .orbital.half { border-color: var(--accent-yellow); }
        .orbital.paired { border-color: var(--accent-red); }

        .orbital-label {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8rem;
            color: var(--text-dim);
            margin-top: 0.5rem;
        }

        /* Quiz sections */
        .check-understanding {
            background: linear-gradient(135deg, #1a2a4a, #2a1a4a);
            border-radius: 12px;
            padding: 2rem;
            margin: 3rem 0;
        }

        .check-understanding h3 {
            color: var(--accent-yellow);
            font-family: 'JetBrains Mono', monospace;
            margin-bottom: 1.5rem;
        }

        .quiz-q {
            margin-bottom: 2rem;
        }

        .quiz-q p {
            font-weight: 500;
            margin-bottom: 1rem;
        }

        .quiz-options {
            display: grid;
            gap: 0.5rem;
        }

        .quiz-opt {
            padding: 1rem 1.5rem;
            background: var(--bg-card);
            border: 1px solid #3a4a6a;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s;
            text-align: left;
            font-family: inherit;
            font-size: inherit;
            color: var(--text);
        }

        .quiz-opt:hover { border-color: var(--accent); }
        .quiz-opt.correct { background: rgba(129, 201, 149, 0.2); border-color: var(--accent-green); }
        .quiz-opt.wrong { background: rgba(242, 139, 130, 0.2); border-color: var(--accent-red); }

        .quiz-explain {
            margin-top: 1rem;
            padding: 1rem;
            background: var(--bg);
            border-radius: 6px;
            display: none;
        }

        .quiz-explain.show { display: block; }

        /* Data tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 2rem 0;
            font-size: 0.95rem;
        }

        .data-table th {
            background: var(--bg-elevated);
            padding: 1rem;
            text-align: left;
            color: var(--accent);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
        }

        .data-table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #2a3a5a;
        }

        /* Analogy boxes */
        .analogy {
            background: var(--bg-elevated);
            border-radius: 12px;
            padding: 1.5rem 2rem;
            margin: 2rem 0;
            border-left: 4px solid var(--accent-purple);
        }

        .analogy::before {
            content: 'üí° ';
        }

        /* Navigation */
        .nav-bottom {
            display: flex;
            justify-content: space-between;
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid #2a3a5a;
        }

        .nav-btn {
            padding: 1rem 2rem;
            background: var(--bg-card);
            border: 1px solid #3a4a6a;
            border-radius: 8px;
            color: var(--text);
            text-decoration: none;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .nav-btn:hover {
            border-color: var(--accent);
            background: var(--bg-elevated);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .lecture { padding: 2rem 1rem; }
            .lecture-header h1 { font-size: 2rem; }
            .orbital-comparison { grid-template-columns: 1fr; }
            .periodic-mini { font-size: 0.6rem; }
        }
    </style>
</head>
<body>
    <article class="lecture">
        <header class="lecture-header">
            <h1>Periodic Trends</h1>
            <p class="subtitle">How the periodic table predicts chemistry</p>
        </header>

        <section class="objectives" id="objectives">
            <h2>After this lecture, you will be able to:</h2>
            <ul>
                <li id="obj1">Explain why atomic radius decreases across a period and increases down a group</li>
                <li id="obj2">Calculate effective nuclear charge using Slater's rules</li>
                <li id="obj3">Predict which of two elements has higher ionization energy‚Äîand explain anomalies</li>
                <li id="obj4">Explain why chlorine has higher electron affinity than fluorine</li>
                <li id="obj5">Identify diagonal relationships and predict when they occur</li>
            </ul>
        </section>

        <!-- ACT I: THE MYSTERY -->
        <section class="section">
            <h2 class="section-title">The Prediction Machine</h2>

            <p>In 1871, Dmitri Mendeleev stared at a gap in his periodic table‚Äîa gap where element 31 should be. No one had ever isolated this element. No one had ever seen it react. Yet Mendeleev wrote down its properties with startling precision: atomic weight around 68, density 5.9 g/cm¬≥, melting point low enough to melt in your hand.</p>

            <p>Four years later, Paul Emile Lecoq de Boisbaudran isolated gallium. Its atomic weight: 69.7. Its density: 5.91 g/cm¬≥. Its melting point: 29.8¬∞C‚Äîwarm enough to liquefy on your palm.</p>

            <p>How did Mendeleev know?</p>

            <div class="key-insight">
                The periodic table is not a filing cabinet. It is a prediction machine. Master its patterns, and you can predict the behavior of elements you've never seen‚Äîeven elements that don't yet exist.
            </div>

            <p>This lecture reveals the hidden variable that governs all periodic trends. Once you understand it, you'll be able to do what Mendeleev did: look at an element's position and know how it will behave.</p>
        </section>

        <!-- ACT II: THE HIDDEN VARIABLE -->
        <section class="section">
            <h2 class="section-title">The Hidden Variable</h2>

            <p>Here's a puzzle. Sodium has 11 protons; lithium has only 3. More protons should mean a stronger pull on the electrons, which should mean a smaller atom. Yet sodium is <em>larger</em> than lithium. Much larger.</p>

            <p>If nuclear charge determined atomic size, every element would be smaller than the one before it. The periodic table would show a steady march toward ever-tinier atoms. Instead, we see this:</p>

            <!-- Interactive periodic table showing size -->
            <div class="periodic-container">
                <div class="periodic-mini" id="ptable-size">
                    <!-- Generated by JS -->
                </div>
                <div style="text-align: center; margin-top: 1rem;">
                    <span style="display: inline-block; width: 20px; height: 20px; background: #1a472a; border-radius: 3px; vertical-align: middle;"></span> Small
                    <span style="display: inline-block; width: 20px; height: 20px; background: #7ab07e; border-radius: 3px; vertical-align: middle; margin-left: 1rem;"></span> Large
                    <span style="color: var(--text-dim); font-size: 0.85rem; margin-left: 1.5rem;">(Covalent radii, Cordero 2008)</span>
                </div>
            </div>

            <p>The pattern is unmistakable. Atoms get <em>smaller</em> as you go across a period (left to right), but they get <em>larger</em> as you go down a group (top to bottom). Something other than nuclear charge is at work.</p>

            <p>That something is <span class="highlight">shielding</span>.</p>

            <h3 style="color: var(--accent-green); margin: 2rem 0 1rem;">Electrons Block Each Other</h3>

            <p>Consider sodium's outermost electron. Eleven protons pull on it from the nucleus. But between that electron and the nucleus sit ten other electrons‚Äîtwo in the first shell, eight in the second. These inner electrons don't just sit there passively. They actively repel the outer electron and partially block the nuclear charge.</p>

            <div class="analogy">
                Imagine shouting to someone across a crowded room. Your voice (nuclear charge) has to pass through dozens of people (inner electrons). By the time it reaches the listener (outer electron), it's much quieter than it was at the source.
            </div>

            <p>The outer electron doesn't experience the full +11 charge of sodium's nucleus. It experiences a reduced <span class="highlight">effective nuclear charge</span>, written Z<sub>eff</sub>:</p>

            <div style="text-align: center; font-size: 1.4rem; margin: 2rem 0; font-family: 'JetBrains Mono', monospace;">
                Z<sub>eff</sub> = Z ‚àí S
            </div>

            <p>where Z is the actual nuclear charge and S is the shielding constant‚Äîa measure of how much the inner electrons block.</p>
        </section>

        <!-- Slater's Rules Calculator -->
        <section class="section">
            <h2 class="section-title">Quantifying the Shield: Slater's Rules</h2>

            <p>In 1930, John Slater analyzed mountains of experimental data‚Äîionization energies, atomic radii, spectroscopic measurements‚Äîand discovered consistent patterns in how electrons shield each other. His rules let us calculate Z<sub>eff</sub> for any electron in any atom.</p>

            <p>The rules aren't arbitrary. They reflect physical reality:</p>

            <p><strong>Electrons in your own shell</strong> partially shield you, but not completely‚Äîthey're at roughly the same distance from the nucleus, so they can only deflect some of the nuclear attraction. Shielding factor: <strong>0.35</strong>.</p>

            <p><strong>Electrons one shell deeper</strong> are between you and the nucleus, blocking more effectively. Shielding factor: <strong>0.85</strong> for s and p electrons.</p>

            <p><strong>Electrons two or more shells deeper</strong> form an almost complete wall. Shielding factor: <strong>1.00</strong>.</p>

            <div class="calculator">
                <h3>Interactive: Calculate Z<sub>eff</sub></h3>
                <div class="calc-input">
                    <select id="calc-element">
                        <option value="Li">Lithium (Li)</option>
                        <option value="C">Carbon (C)</option>
                        <option value="N">Nitrogen (N)</option>
                        <option value="O" selected>Oxygen (O)</option>
                        <option value="F">Fluorine (F)</option>
                        <option value="Na">Sodium (Na)</option>
                        <option value="Cl">Chlorine (Cl)</option>
                        <option value="K">Potassium (K)</option>
                    </select>
                    <button onclick="calculateZeff()">Calculate</button>
                </div>
                <div class="calc-output" id="calc-result">
Select an element and click Calculate to see the step-by-step Z<sub>eff</sub> calculation.
                </div>
            </div>

            <p>Try calculating Z<sub>eff</sub> for oxygen. The result‚Äîabout 4.55‚Äîtells you that oxygen's outer electron feels less than half the nuclear charge. The shield is real, and it's powerful.</p>
        </section>

        <!-- ACT III: THE FOUR TRENDS -->
        <section class="section">
            <h2 class="section-title">Trend 1: Atomic Radius</h2>

            <p>Now we can explain the pattern we saw earlier.</p>

            <p><strong>Across a period</strong> (left to right): Each element has one more proton <em>and</em> one more electron than the last. But the new electron enters the same shell‚Äîit doesn't add a new layer of shielding. The increased nuclear charge pulls all the electrons closer. Result: <span class="highlight">atoms get smaller</span>.</p>

            <p><strong>Down a group</strong> (top to bottom): Each element has a new electron shell. Even though nuclear charge increases, the new electrons are in orbitals that extend much farther from the nucleus. Result: <span class="highlight">atoms get larger</span>.</p>

            <!-- Trend visualization canvas -->
            <div class="trend-visual">
                <canvas id="trend-canvas" width="800" height="400"></canvas>
                <p class="caption">Covalent radii (pm) for main group elements. Data: Cordero et al. 2008</p>
            </div>

            <p>The competition between nuclear charge and shell number is won by shell number when you go down a group. A cesium atom is enormous compared to lithium‚Äînot because cesium's nucleus is weak (it has 55 protons!), but because its outer electron lives in the sixth shell, far from the nuclear pull.</p>
        </section>

        <section class="section">
            <h2 class="section-title">Trend 2: Ionization Energy</h2>

            <p>Ionization energy measures how tightly an atom holds its outermost electron. High Z<sub>eff</sub> means a tight grip; low Z<sub>eff</sub> means the electron can be pulled away easily.</p>

            <p>The trends follow directly:</p>

            <p><strong>Across a period:</strong> Z<sub>eff</sub> increases, so ionization energy <span class="highlight">increases</span>.</p>
            <p><strong>Down a group:</strong> Outer electrons are farther from the nucleus, so ionization energy <span class="highlight">decreases</span>.</p>

            <p>But here's where it gets interesting. The trend isn't smooth. Look at the ionization energies of the second period:</p>

            <table class="data-table">
                <tr>
                    <th>Element</th>
                    <th>Li</th>
                    <th>Be</th>
                    <th>B</th>
                    <th>C</th>
                    <th>N</th>
                    <th>O</th>
                    <th>F</th>
                    <th>Ne</th>
                </tr>
                <tr>
                    <td>IE‚ÇÅ (kJ/mol)</td>
                    <td>520</td>
                    <td>900</td>
                    <td style="color: var(--accent-yellow);">801</td>
                    <td>1087</td>
                    <td>1402</td>
                    <td style="color: var(--accent-yellow);">1314</td>
                    <td>1681</td>
                    <td>2081</td>
                </tr>
            </table>
            <p style="font-size: 0.85rem; color: var(--text-dim); margin-top: -1rem;">Source: NIST Atomic Spectra Database</p>

            <p>Two anomalies jump out. Boron has <em>lower</em> IE than beryllium, and oxygen has <em>lower</em> IE than nitrogen. These aren't experimental errors‚Äîthey reveal something deep about electron structure.</p>

            <h3 style="color: var(--accent-yellow); margin: 2rem 0 1rem;">Anomaly 1: Why is B lower than Be?</h3>

            <p>Beryllium's outer electrons are in a 2s orbital. Boron's outer electron is in a 2p orbital. The 2s orbital penetrates closer to the nucleus than 2p‚Äîits electron density has a larger fraction near the core. This means beryllium's electrons experience higher Z<sub>eff</sub> and are harder to remove.</p>

            <div class="analogy">
                Think of 2s electrons as having VIP access to the front of a concert, while 2p electrons are stuck further back. VIP guests (2s) are closer to the action (nucleus) even though they arrived at the same time.
            </div>

            <h3 style="color: var(--accent-yellow); margin: 2rem 0 1rem;">Anomaly 2: Why is O lower than N?</h3>

            <p>This one is more subtle. Look at the electron configurations:</p>

            <div class="orbital-comparison">
                <div class="orbital-box">
                    <h4>Nitrogen (Z=7)</h4>
                    <div class="orbital-diagram">
                        <div>
                            <div class="orbital filled">‚Üë‚Üì</div>
                            <div class="orbital-label">2s</div>
                        </div>
                        <div>
                            <div class="orbital half">‚Üë</div>
                            <div class="orbital-label">2p</div>
                        </div>
                        <div>
                            <div class="orbital half">‚Üë</div>
                            <div class="orbital-label">2p</div>
                        </div>
                        <div>
                            <div class="orbital half">‚Üë</div>
                            <div class="orbital-label">2p</div>
                        </div>
                    </div>
                    <p style="color: var(--accent-green); margin-top: 1rem;">Half-filled subshell: extra stability</p>
                </div>
                <div class="orbital-box">
                    <h4>Oxygen (Z=8)</h4>
                    <div class="orbital-diagram">
                        <div>
                            <div class="orbital filled">‚Üë‚Üì</div>
                            <div class="orbital-label">2s</div>
                        </div>
                        <div>
                            <div class="orbital paired">‚Üë‚Üì</div>
                            <div class="orbital-label">2p</div>
                        </div>
                        <div>
                            <div class="orbital half">‚Üë</div>
                            <div class="orbital-label">2p</div>
                        </div>
                        <div>
                            <div class="orbital half">‚Üë</div>
                            <div class="orbital-label">2p</div>
                        </div>
                    </div>
                    <p style="color: var(--accent-red); margin-top: 1rem;">Paired electrons: repulsion</p>
                </div>
            </div>

            <p>Nitrogen has one electron in each 2p orbital‚Äîa <em>half-filled subshell</em>. This configuration has special stability due to exchange energy: electrons with parallel spins can exchange positions, lowering the overall energy.</p>

            <p>Oxygen has to put a second electron into one of the 2p orbitals. Now two electrons share the same orbital, and they repel each other. This electron-electron repulsion makes it <em>easier</em> to remove one of them.</p>

            <div class="check-understanding">
                <h3>Check Your Understanding</h3>
                <div class="quiz-q" id="quiz-ie">
                    <p>Based on the anomalies above, predict: Which has higher ionization energy, sulfur (S) or phosphorus (P)?</p>
                    <div class="quiz-options">
                        <button class="quiz-opt" onclick="checkQuiz('quiz-ie', this, false)">Sulfur‚Äîit has more protons</button>
                        <button class="quiz-opt" onclick="checkQuiz('quiz-ie', this, true)">Phosphorus‚Äîit has a half-filled 3p subshell</button>
                        <button class="quiz-opt" onclick="checkQuiz('quiz-ie', this, false)">They're the same‚Äîboth are in Period 3</button>
                    </div>
                    <div class="quiz-explain" id="quiz-ie-explain">
                        <strong>Correct!</strong> Phosphorus (3p¬≥) has a half-filled subshell, just like nitrogen. Sulfur (3p‚Å¥) has electron pairing in one orbital. The same anomaly repeats in Period 3: IE‚ÇÅ(P) = 1012 kJ/mol > IE‚ÇÅ(S) = 1000 kJ/mol. <span style="color: var(--text-dim); font-size: 0.9rem;">(NIST)</span>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <h2 class="section-title">Trend 3: Electron Affinity</h2>

            <p>Electron affinity measures how much energy is released when an atom <em>gains</em> an electron. High electron affinity means the atom really wants that extra electron.</p>

            <p>You might expect fluorine to have the highest electron affinity‚Äîit's the most electronegative element, after all. But look at the data:</p>

            <table class="data-table">
                <tr>
                    <th>Element</th>
                    <th>F</th>
                    <th>Cl</th>
                    <th>Br</th>
                    <th>I</th>
                </tr>
                <tr>
                    <td>EA‚ÇÅ (kJ/mol)</td>
                    <td>328.0</td>
                    <td style="color: var(--accent-green);">348.6</td>
                    <td>324.6</td>
                    <td>295.2</td>
                </tr>
            </table>
            <p style="font-size: 0.85rem; color: var(--text-dim); margin-top: -1rem;">Source: NIST Chemistry WebBook</p>

            <p><em>Chlorine</em> has the highest electron affinity, not fluorine. Why?</p>

            <p>Fluorine is tiny. Its 2p orbitals are small and already crowded with electrons. When you try to add one more electron, it has to squeeze into a space that's already experiencing significant electron-electron repulsion. Some of the energy gained from the nuclear attraction is lost to this repulsion.</p>

            <p>Chlorine is larger. Its 3p orbitals have more room. The incoming electron experiences strong attraction to the nucleus without as much crowding penalty.</p>

            <div class="key-insight">
                Sometimes being too eager backfires. Fluorine wants electrons so badly that it's already packed them in tight‚Äîleaving no comfortable room for one more.
            </div>
        </section>

        <section class="section">
            <h2 class="section-title">Trend 4: Electronegativity</h2>

            <p>Electronegativity combines ionization energy and electron affinity into a single measure of an atom's "electron hunger"‚Äîits ability to attract electrons in a chemical bond.</p>

            <p>Linus Pauling invented the concept when he noticed something strange about bond energies. The H-H bond has an energy of 436 kJ/mol. The F-F bond has an energy of 158 kJ/mol. You might expect the H-F bond energy to be somewhere around their average‚Äîabout 297 kJ/mol.</p>

            <p>The actual H-F bond energy is <strong>568 kJ/mol</strong>‚Äîfar stronger than expected.</p>

            <p>Pauling reasoned that when atoms of different electronegativity form a bond, the unequal sharing of electrons creates partial ionic character, which strengthens the bond. He used the "extra" bond energy to quantify the electronegativity difference:</p>

            <div style="text-align: center; font-size: 1.2rem; margin: 2rem 0; font-family: 'JetBrains Mono', monospace;">
                œá<sub>A</sub> ‚àí œá<sub>B</sub> = 0.102 ‚àö(D<sub>A-B</sub> ‚àí ¬Ω[D<sub>A-A</sub> + D<sub>B-B</sub>])
            </div>

            <p>Setting fluorine's electronegativity to 4.0 as a reference, the entire electronegativity scale falls into place. The trends follow Z<sub>eff</sub>: electronegativity increases across periods and decreases down groups.</p>
        </section>

        <!-- ACT IV: DIAGONAL RELATIONSHIPS -->
        <section class="section">
            <h2 class="section-title">The Diagonal Relationships</h2>

            <p>Here's a puzzle that troubled early chemists: lithium doesn't behave like sodium. It behaves like <em>magnesium</em>.</p>

            <p>Lithium and magnesium both form nitrides by direct reaction with N‚ÇÇ. Sodium doesn't. Lithium and magnesium carbonates both decompose when heated. Sodium carbonate doesn't. Lithium and magnesium hydroxides are both weak bases. Sodium hydroxide is strong.</p>

            <p>What's going on?</p>

            <!-- Diagonal relationship visualization -->
            <div class="trend-visual">
                <canvas id="diagonal-canvas" width="600" height="300"></canvas>
                <p class="caption">Diagonal relationships: elements with similar charge density show similar chemistry.</p>
            </div>

            <p>Moving <em>right</em> across a period increases Z<sub>eff</sub>, making ions smaller and more polarizing. Moving <em>down</em> a group decreases Z<sub>eff</sub> (relative to size), making ions larger and less polarizing.</p>

            <p>Moving <em>diagonally</em>‚Äîright and down simultaneously‚Äîthese effects partially cancel. Lithium and magnesium have similar <span class="highlight">charge density</span> (charge divided by volume). Similar charge density means similar polarizing power, which means similar chemistry.</p>

            <div class="check-understanding">
                <h3>Check Your Understanding</h3>
                <div class="quiz-q" id="quiz-diag">
                    <p>Beryllium is amphoteric (reacts with both acids and bases). Based on diagonal relationships, which other element would you expect to also be amphoteric?</p>
                    <div class="quiz-options">
                        <button class="quiz-opt" onclick="checkQuiz('quiz-diag', this, false)">Magnesium</button>
                        <button class="quiz-opt" onclick="checkQuiz('quiz-diag', this, true)">Aluminum</button>
                        <button class="quiz-opt" onclick="checkQuiz('quiz-diag', this, false)">Calcium</button>
                        <button class="quiz-opt" onclick="checkQuiz('quiz-diag', this, false)">Boron</button>
                    </div>
                    <div class="quiz-explain" id="quiz-diag-explain">
                        <strong>Correct!</strong> Beryllium and aluminum are diagonal relatives. Both are amphoteric: Be(OH)‚ÇÇ and Al(OH)‚ÇÉ both dissolve in acid (acting as bases) and in strong base (acting as acids, forming beryllates and aluminates).
                    </div>
                </div>
            </div>
        </section>

        <!-- ACT V: WHY THIS MATTERS -->
        <section class="section">
            <h2 class="section-title">Why This Matters</h2>

            <p>You now have Mendeleev's power. You can look at an element's position and predict its behavior.</p>

            <p>Consider element 119‚Äînot yet synthesized, but it will sit below francium in Group 1. You can predict:</p>

            <ul style="margin-left: 2rem; margin-bottom: 1.5rem;">
                <li>Its atomic radius will be larger than francium's</li>
                <li>Its ionization energy will be lower than francium's</li>
                <li>If it's stable enough to observe, it will react explosively with water</li>
                <li>Its chemistry will somewhat resemble barium's (diagonal relationship)</li>
            </ul>

            <p>But the periodic trends aren't just for predicting properties of new elements. They're the foundation for understanding all of chemistry:</p>

            <p><strong>Crystal field theory?</strong> You need to know ligand electronegativities to understand the spectrochemical series.</p>

            <p><strong>Acid-base chemistry?</strong> You need to know how oxide basicity varies across the periodic table.</p>

            <p><strong>Redox reactions?</strong> You need to know ionization energies and electron affinities.</p>

            <div class="key-insight">
                The periodic table is the map. Effective nuclear charge is the legend. Master them, and no element will surprise you.
            </div>
        </section>

        <!-- Final mastery check -->
        <section class="objectives" style="background: linear-gradient(135deg, #1a2a1a, #1a1a2a);">
            <h2 style="color: var(--accent-green);">Learning Objectives: Self-Assessment</h2>
            <p style="margin-bottom: 1.5rem; color: var(--text-dim);">Can you do each of these? Click to mark as mastered.</p>
            <ul>
                <li onclick="this.classList.toggle('achieved')" style="cursor: pointer;">Explain why atomic radius decreases across a period and increases down a group</li>
                <li onclick="this.classList.toggle('achieved')" style="cursor: pointer;">Calculate effective nuclear charge using Slater's rules</li>
                <li onclick="this.classList.toggle('achieved')" style="cursor: pointer;">Predict which of two elements has higher ionization energy‚Äîand explain anomalies</li>
                <li onclick="this.classList.toggle('achieved')" style="cursor: pointer;">Explain why chlorine has higher electron affinity than fluorine</li>
                <li onclick="this.classList.toggle('achieved')" style="cursor: pointer;">Identify diagonal relationships and predict when they occur</li>
            </ul>
        </section>

        <!-- Data Sources -->
        <section class="section" style="margin-top: 4rem; padding-top: 2rem; border-top: 1px solid #2a3a5a;">
            <h3 style="color: var(--text-dim); font-size: 1rem; margin-bottom: 1rem;">Data Sources</h3>
            <ul style="font-size: 0.9rem; color: var(--text-dim); list-style: none;">
                <li style="margin-bottom: 0.5rem;"><strong>Ionization Energies:</strong> NIST Atomic Spectra Database, <a href="https://physics.nist.gov/asd" style="color: var(--accent);">physics.nist.gov/asd</a></li>
                <li style="margin-bottom: 0.5rem;"><strong>Electron Affinities:</strong> NIST Chemistry WebBook, <a href="https://webbook.nist.gov" style="color: var(--accent);">webbook.nist.gov</a></li>
                <li style="margin-bottom: 0.5rem;"><strong>Covalent Radii:</strong> Cordero, B. et al. (2008) <em>Dalton Trans.</em> DOI: <a href="https://doi.org/10.1039/b801115j" style="color: var(--accent);">10.1039/b801115j</a></li>
                <li><strong>Electronegativity:</strong> Pauling, L. (1932) <em>J. Am. Chem. Soc.</em> 54, 3570‚Äì3582</li>
            </ul>
        </section>

        <nav class="nav-bottom">
            <a href="../index.html" class="nav-btn">‚Üê Course Home</a>
            <a href="session_02_main_group.html" class="nav-btn">Next: Main Group Chemistry ‚Üí</a>
        </nav>
    </article>

    <script>
        // Element data
        const elements = [
            ['H','','','','','','','','','','','','','','','','','He'],
            ['Li','Be','','','','','','','','','','','B','C','N','O','F','Ne'],
            ['Na','Mg','','','','','','','','','','','Al','Si','P','S','Cl','Ar'],
            ['K','Ca','Sc','Ti','V','Cr','Mn','Fe','Co','Ni','Cu','Zn','Ga','Ge','As','Se','Br','Kr'],
            ['Rb','Sr','Y','Zr','Nb','Mo','Tc','Ru','Rh','Pd','Ag','Cd','In','Sn','Sb','Te','I','Xe'],
            ['Cs','Ba','*','Hf','Ta','W','Re','Os','Ir','Pt','Au','Hg','Tl','Pb','Bi','Po','At','Rn'],
            ['Fr','Ra','**','Rf','Db','Sg','Bh','Hs','Mt','Ds','Rg','Cn','Nh','Fl','Mc','Lv','Ts','Og']
        ];

        // Covalent radii in pm - Cordero et al. 2008, Dalton Trans. DOI: 10.1039/b801115j
        const atomicRadii = {
            'H':31,'He':28,'Li':128,'Be':96,'B':84,'C':76,'N':71,'O':66,'F':57,'Ne':58,
            'Na':166,'Mg':141,'Al':121,'Si':111,'P':107,'S':105,'Cl':102,'Ar':106,
            'K':203,'Ca':176,'Sc':170,'Ti':160,'V':153,'Cr':139,'Mn':150,'Fe':142,'Co':138,'Ni':124,'Cu':132,'Zn':122,
            'Ga':122,'Ge':120,'As':119,'Se':120,'Br':120,'Kr':116,
            'Rb':220,'Sr':195,'Y':190,'Zr':175,'Nb':164,'Mo':154,'Tc':147,'Ru':146,'Rh':142,'Pd':139,'Ag':145,'Cd':144,
            'In':142,'Sn':139,'Sb':139,'Te':138,'I':139,'Xe':140,
            'Cs':244,'Ba':215,'Tl':145,'Pb':146,'Bi':148,'Po':140,'At':150,'Rn':150
        };

        const atomicNumbers = {
            'H':1,'He':2,'Li':3,'Be':4,'B':5,'C':6,'N':7,'O':8,'F':9,'Ne':10,
            'Na':11,'Mg':12,'Al':13,'Si':14,'P':15,'S':16,'Cl':17,'Ar':18,
            'K':19,'Ca':20,'Sc':21,'Ti':22,'V':23,'Cr':24,'Mn':25,'Fe':26,'Co':27,'Ni':28,'Cu':29,'Zn':30,
            'Ga':31,'Ge':32,'As':33,'Se':34,'Br':35,'Kr':36,
            'Rb':37,'Sr':38,'Y':39,'Zr':40,'Nb':41,'Mo':42,'Tc':43,'Ru':44,'Rh':45,'Pd':46,'Ag':47,'Cd':48,
            'In':49,'Sn':50,'Sb':51,'Te':52,'I':53,'Xe':54,
            'Cs':55,'Ba':56,'Hf':72,'Ta':73,'W':74,'Re':75,'Os':76,'Ir':77,'Pt':78,'Au':79,'Hg':80,
            'Tl':81,'Pb':82,'Bi':83,'Po':84,'At':85,'Rn':86,'Fr':87,'Ra':88
        };

        // Build periodic table with size colors
        function buildPeriodicTable() {
            const container = document.getElementById('ptable-size');
            const maxR = 298, minR = 31;

            elements.forEach((row, rowIdx) => {
                row.forEach((el, colIdx) => {
                    const div = document.createElement('div');
                    div.className = 'el';

                    if (!el || el === '*' || el === '**') {
                        div.classList.add('empty');
                    } else {
                        const r = atomicRadii[el];
                        if (r) {
                            const norm = (r - minR) / (maxR - minR);
                            const sizeClass = Math.min(5, Math.floor(norm * 5) + 1);
                            div.classList.add('size-' + sizeClass);
                        }
                        div.innerHTML = `<span class="number">${atomicNumbers[el] || ''}</span><span class="symbol">${el}</span>`;
                        div.title = `${el}: r_cov = ${r || '?'} pm`;
                    }
                    container.appendChild(div);
                });
            });
        }

        // Slater's rules calculator
        const electronConfigs = {
            'Li': {config: '1s¬≤ 2s¬π', groups: [[2,0],[1,0]], Z: 3},
            'C': {config: '1s¬≤ 2s¬≤ 2p¬≤', groups: [[2,0],[4,0]], Z: 6},
            'N': {config: '1s¬≤ 2s¬≤ 2p¬≥', groups: [[2,0],[5,0]], Z: 7},
            'O': {config: '1s¬≤ 2s¬≤ 2p‚Å¥', groups: [[2,0],[6,0]], Z: 8},
            'F': {config: '1s¬≤ 2s¬≤ 2p‚Åµ', groups: [[2,0],[7,0]], Z: 9},
            'Na': {config: '1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬π', groups: [[2,0],[8,0],[1,0]], Z: 11},
            'Cl': {config: '1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Åµ', groups: [[2,0],[8,0],[7,0]], Z: 17},
            'K': {config: '1s¬≤ 2s¬≤ 2p‚Å∂ 3s¬≤ 3p‚Å∂ 4s¬π', groups: [[2,0],[8,0],[8,0],[1,0]], Z: 19}
        };

        function calculateZeff() {
            const el = document.getElementById('calc-element').value;
            const data = electronConfigs[el];
            const output = document.getElementById('calc-result');

            let result = `Element: ${el} (Z = ${data.Z})\n`;
            result += `Configuration: ${data.config}\n\n`;
            result += `Calculating Z_eff for outermost electron:\n`;
            result += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n\n`;

            const groups = data.groups;
            const n = groups.length;
            let S = 0;

            // Same group (n-1 electrons at 0.35)
            const sameGroup = groups[n-1][0] - 1;
            if (sameGroup > 0) {
                result += `Same shell: ${sameGroup} electrons √ó 0.35 = ${(sameGroup * 0.35).toFixed(2)}\n`;
                S += sameGroup * 0.35;
            }

            // n-1 shell at 0.85
            if (n >= 2) {
                const prev = groups[n-2][0];
                result += `(n-1) shell: ${prev} electrons √ó 0.85 = ${(prev * 0.85).toFixed(2)}\n`;
                S += prev * 0.85;
            }

            // n-2 and below at 1.00
            if (n >= 3) {
                let deep = 0;
                for (let i = 0; i < n-2; i++) {
                    deep += groups[i][0];
                }
                if (deep > 0) {
                    result += `(n-2) and below: ${deep} electrons √ó 1.00 = ${deep.toFixed(2)}\n`;
                    S += deep;
                }
            }

            result += `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`;
            result += `Total shielding (S) = ${S.toFixed(2)}\n\n`;
            result += `Z_eff = Z - S = ${data.Z} - ${S.toFixed(2)} = ${(data.Z - S).toFixed(2)}`;

            output.innerHTML = result;
        }

        // Quiz handling
        function checkQuiz(id, btn, correct) {
            const opts = document.querySelectorAll(`#${id} .quiz-opt`);
            opts.forEach(o => {
                o.disabled = true;
                o.classList.remove('correct', 'wrong');
            });
            btn.classList.add(correct ? 'correct' : 'wrong');
            if (!correct) {
                opts.forEach(o => {
                    if (o.onclick.toString().includes('true')) o.classList.add('correct');
                });
            }
            document.getElementById(`${id}-explain`).classList.add('show');
        }

        // Trend arrows canvas
        function drawTrendCanvas() {
            const canvas = document.getElementById('trend-canvas');
            const ctx = canvas.getContext('2d');

            // Scale for high DPI
            const dpr = window.devicePixelRatio || 1;
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);
            canvas.style.width = rect.width + 'px';
            canvas.style.height = rect.height + 'px';

            const w = rect.width, h = rect.height;

            // Draw grid of elements (simplified Period 2-3)
            ctx.fillStyle = '#e8eaed';
            ctx.font = '14px JetBrains Mono';

            // Elements and covalent radii (pm) - Cordero et al. 2008
            const elems = [
                ['Li','Be','B','C','N','O','F','Ne'],
                ['Na','Mg','Al','Si','P','S','Cl','Ar']
            ];
            const radii = [
                [128,96,84,76,71,66,57,58],
                [166,141,121,111,107,105,102,106]
            ];

            const startX = 80, startY = 100;
            const cellW = 80, cellH = 120;

            elems.forEach((row, ri) => {
                row.forEach((el, ci) => {
                    const x = startX + ci * cellW;
                    const y = startY + ri * cellH;

                    // Draw circle sized by radius
                    const r = radii[ri][ci];
                    const circleR = r / 8;
                    ctx.beginPath();
                    ctx.arc(x, y, circleR, 0, Math.PI * 2);
                    ctx.fillStyle = `hsl(${200 - r/2}, 70%, 50%)`;
                    ctx.fill();

                    // Label
                    ctx.fillStyle = '#e8eaed';
                    ctx.textAlign = 'center';
                    ctx.fillText(el, x, y + circleR + 20);
                    ctx.fillStyle = '#9aa0a6';
                    ctx.font = '11px JetBrains Mono';
                    ctx.fillText(r + ' pm', x, y + circleR + 35);
                    ctx.font = '14px JetBrains Mono';
                });
            });

            // Arrows
            ctx.strokeStyle = '#fdd663';
            ctx.lineWidth = 3;
            ctx.fillStyle = '#fdd663';

            // Horizontal arrow (decreasing)
            const arrowY = 60;
            ctx.beginPath();
            ctx.moveTo(startX + cellW * 7 + 20, arrowY);
            ctx.lineTo(startX - 20, arrowY);
            ctx.stroke();
            // Arrowhead
            ctx.beginPath();
            ctx.moveTo(startX - 20, arrowY);
            ctx.lineTo(startX - 5, arrowY - 8);
            ctx.lineTo(startX - 5, arrowY + 8);
            ctx.fill();

            ctx.fillStyle = '#fdd663';
            ctx.font = '12px JetBrains Mono';
            ctx.fillText('Decreasing radius ‚Üí', startX + cellW * 3, arrowY - 15);

            // Vertical arrow (increasing)
            ctx.strokeStyle = '#81c995';
            ctx.fillStyle = '#81c995';
            const arrowX = startX - 50;
            ctx.beginPath();
            ctx.moveTo(arrowX, startY - 30);
            ctx.lineTo(arrowX, startY + cellH + 30);
            ctx.stroke();
            // Arrowhead
            ctx.beginPath();
            ctx.moveTo(arrowX, startY + cellH + 30);
            ctx.lineTo(arrowX - 8, startY + cellH + 15);
            ctx.lineTo(arrowX + 8, startY + cellH + 15);
            ctx.fill();

            ctx.save();
            ctx.translate(arrowX - 20, startY + cellH/2);
            ctx.rotate(-Math.PI/2);
            ctx.fillText('Increasing radius', 0, 0);
            ctx.restore();
        }

        // Diagonal relationships canvas
        function drawDiagonalCanvas() {
            const canvas = document.getElementById('diagonal-canvas');
            const ctx = canvas.getContext('2d');

            const dpr = window.devicePixelRatio || 1;
            const rect = canvas.getBoundingClientRect();
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;
            ctx.scale(dpr, dpr);
            canvas.style.width = rect.width + 'px';
            canvas.style.height = rect.height + 'px';

            const w = rect.width, h = rect.height;

            // Draw elements
            const elems = [
                ['Li','Be','B'],
                ['Na','Mg','Al'],
                ['K','Ca','Ga']
            ];

            const startX = 150, startY = 60;
            const cellW = 100, cellH = 80;

            ctx.font = '20px JetBrains Mono';
            ctx.textAlign = 'center';

            elems.forEach((row, ri) => {
                row.forEach((el, ci) => {
                    const x = startX + ci * cellW;
                    const y = startY + ri * cellH;

                    ctx.fillStyle = '#1a2540';
                    ctx.fillRect(x - 30, y - 25, 60, 50);

                    ctx.fillStyle = '#e8eaed';
                    ctx.fillText(el, x, y + 7);
                });
            });

            // Draw diagonal arrows
            ctx.strokeStyle = '#c58af9';
            ctx.lineWidth = 3;
            ctx.setLineDash([5, 5]);

            // Li-Mg
            ctx.beginPath();
            ctx.moveTo(startX + 25, startY + 20);
            ctx.lineTo(startX + cellW - 25, startY + cellH - 20);
            ctx.stroke();

            // Be-Al
            ctx.beginPath();
            ctx.moveTo(startX + cellW + 25, startY + 20);
            ctx.lineTo(startX + 2*cellW - 25, startY + cellH - 20);
            ctx.stroke();

            // Na-Ca (weaker)
            ctx.strokeStyle = 'rgba(197, 138, 249, 0.4)';
            ctx.beginPath();
            ctx.moveTo(startX + 25, startY + cellH + 20);
            ctx.lineTo(startX + cellW - 25, startY + 2*cellH - 20);
            ctx.stroke();

            ctx.setLineDash([]);

            // Labels
            ctx.fillStyle = '#c58af9';
            ctx.font = '13px JetBrains Mono';
            ctx.fillText('Similar chemistry', startX + cellW/2 + 60, startY + cellH/2 + 10);
            ctx.fillText('(charge density)', startX + cellW/2 + 60, startY + cellH/2 + 28);
        }

        // Initialize
        window.onload = function() {
            buildPeriodicTable();
            drawTrendCanvas();
            drawDiagonalCanvas();
        };

        window.onresize = function() {
            drawTrendCanvas();
            drawDiagonalCanvas();
        };
    </script>
</body>
</html>
